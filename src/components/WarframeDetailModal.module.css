/* Variabili Locali */
.modalOverlay {
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.9);
  display: flex; justify-content: center; align-items: center;
  z-index: 1000;
  backdrop-filter: blur(5px);
}

.modalContent {
  background-color: #0b0b0e;
  width: 95vw;
  height: 90vh;
  max-width: 1700px;
  border: 1px solid #333;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  box-shadow: 0 0 60px rgba(0,0,0,0.8);
  position: relative;
}

.closeBtn {
  position: absolute; top: 15px; right: 25px;
  background: none; border: none; color: #fff;
  font-size: 32px; cursor: pointer; z-index: 20;
}
.closeBtn:hover { color: #d4af37; }

.headerRow {
  padding: 20px 30px;
  border-bottom: 1px solid #333;
  display: flex; justify-content: space-between; align-items: center;
  background: #0b0b0e;
}

.modalBody {
  flex: 1;
  display: flex; /* FLEXBOX */
  overflow: hidden;
  padding: 0;
}

/* --- COLONNE --- */
.colLeft {
  width: 300px; flex-shrink: 0; padding: 25px;
  border-right: 1px solid #333; background: #08080a;
  display: flex; flex-direction: column; align-items: center;
  overflow-y: auto;
}

.colCenter {
  flex: 1; padding: 25px;
  border-right: 1px solid #333; background: #0e0e10;
  overflow-y: auto;
}

.colRight {
  flex: 1.3; padding: 25px;
  background: #0b0b0e;
  overflow-y: auto;
}

/* --- ELEMENTI UI --- */
.title { font-size: 28px; font-weight: 900; margin: 0; color: #fff; text-transform: uppercase; }
.typePill { background: #222; padding: 4px 10px; border-radius: 10px; font-size: 11px; color: #aaa; text-transform: uppercase; }
.sectionTitle { color: #888; border-bottom: 1px solid #333; padding-bottom: 8px; margin-bottom: 15px; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; }

.btnToggle {
  width: 100%; padding: 12px; margin-top: 20px;
  background: #d4af37; color: #000; font-weight: bold;
  border: none; border-radius: 4px; cursor: pointer; text-transform: uppercase;
}
.btnToggleOwned { background: #222; color: #fff; border: 1px solid #555; }

.wikiBtn { display: block; width: 100%; text-align: center; margin-top: 10px; padding: 10px; background: #111; color: #666; border: 1px solid #222; font-size: 12px; }
.wikiBtn:hover { color: #fff; border-color: #444; }

.heroImage { max-width: 100%; max-height: 250px; object-fit: contain; }

.vaultBadge { font-size: 12px; padding: 5px 15px; border-radius: 4px; font-weight: bold; }
.isVaulted { background: rgba(255, 50, 50, 0.15); color: #ff5555; border: 1px solid rgba(255, 50, 50, 0.3); }
.isAvailable { background: rgba(50, 255, 100, 0.1); color: #55ff88; border: 1px solid rgba(50, 255, 100, 0.3); }

/* --- COMPONENTI --- */
.compRow { margin-bottom: 25px; border-bottom: 1px solid #222; padding-bottom: 20px; }
.compHeader { display: flex; align-items: center; margin-bottom: 10px; }
.compIcon { width: 40px; height: 40px; background: #000; border: 1px solid #333; border-radius: 4px; display: flex; align-items: center; justify-content: center; margin-right: 15px; }
.compIcon img { max-width: 80%; max-height: 80%; }
.compCount { background: #2a2a2e; color: #ccc; padding: 2px 8px; border-radius: 4px; font-size: 11px; margin-left: auto; }

/* --- CARTE --- */
.cardsGrid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 8px; }
.card {
  background: #18181b; border: 1px solid #333; border-radius: 6px; padding: 8px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  position: relative; min-height: 55px; text-align: center;
}
.card:hover { border-color: #666; background: #222; }
.cardMission { border-style: dashed; background: #111; }
.cardPct { position: absolute; top: 4px; right: 6px; color: #d4af37; font-size: 10px; font-weight: 900; }
.cardName { font-size: 11px; color: #eee; font-weight: 600; margin-top: 10px; line-height: 1.2; }
.cardLabel { position: absolute; top: 4px; left: 6px; font-size: 8px; color: #555; font-weight: bold; }

/* --- STRATEGIA --- */
.missionBlock { background: #121215; border: 1px solid #2a2a2e; border-radius: 6px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.missionTitle { font-size: 14px; font-weight: bold; color: #fff; margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }

.table { width: 100%; border-collapse: collapse; }
.table th { text-align: left; font-size: 9px; color: #666; padding-bottom: 5px; }
.table td { padding: 5px 0; font-size: 12px; border-bottom: 1px solid #1f1f22; vertical-align: middle; }
.table tr:last-child td { border: none; }

.partBadge {
  display: inline-block; background: rgba(60, 255, 170, 0.1); border: 1px solid rgba(60, 255, 170, 0.3);
  color: #5fffa5; padding: 2px 8px; border-radius: 4px; font-size: 9px; font-weight: bold;
  text-transform: uppercase; min-width: 80px; text-align: center;
}